/* ---------------------------------------
 * Design tokens (可由外部覆寫)
 * ------------------------------------- */
:host {
    --gx-bar-bc: var(--gx-color-accent-400);
    --gx-bar-gap: 8px;

    --gx-item-width: 5px;
    --gx-item-height: 30px;
    --gx-base-height: 40px;

    --gx-radius: 6px;

    --gx-bar-duration: 0.8s;
    --gx-bar-delay-step: 0.08s; /* 每根的延遲遞增量 */


    --gx-spinner-size: 40px; /* loading-spinner 的大小 */
}

.gx-container{
    display: flex;
    align-items: center;
    justify-content: center;
}

.gx-loading{
    max-width: 20vw;
    width: 100%;
}

/* loading-bar */
.gx-loading-bar{
    display: flex;
    height: var(--gx-base-height);
    gap: var(--gx-bar-gap);
    align-items: center;
    justify-content: center;
}

.gx-loading-bar-item{
    width: var(--gx-item-width);
    height: var(--gx-item-height);
    background-color: var(--gx-bar-bc);
    border-radius: 3px;
    animation: gx-wave var(--gx-bar-duration) ease-in-out infinite;
    /* 用 transform 讓「從中線伸縮」，視覺更自然 */
    transform-origin: center;
    /* 依索引延遲：由模板 [style.--i]="i" 傳進來 */
    animation-delay: calc(var(--gx-i, 0) * (var(--gx-bar-duration) / 10));
}

@keyframes gx-wave {
    0%, 100% { transform: scaleY(0.35); }
    50%      { transform: scaleY(1);    }
}


/* loading-spinner */
.gx-loading-spinner {
    inline-size: var(--spinner-size, var(--gx-spinner-size, var(--gx-base-height)));
    block-size:  var(--spinner-size, var(--gx-spinner-size, var(--gx-base-height)));
    aspect-ratio: 1;
    animation: rotate 2s linear infinite;
    transform-origin: center;
    transform-box: fill-box;
}

.spinner-path {
    stroke: cornflowerblue;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
    /* 若不想縮放時描邊變粗細，打開這行 */
    /* vector-effect: non-scaling-stroke; */
}

@keyframes rotate {
    100% { transform: rotate(360deg); }
}

@keyframes dash {
    0%   { stroke-dasharray: 1, 150; stroke-dashoffset: 0; }
    50%  { stroke-dasharray: 90, 150; stroke-dashoffset: -35; }
    100% { stroke-dasharray: 90, 150; stroke-dashoffset: -124; }
}